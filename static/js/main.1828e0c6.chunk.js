(this["webpackJsonpclootrack-challage"]=this["webpackJsonpclootrack-challage"]||[]).push([[0],{26:function(e,t,s){},27:function(e,t,s){"use strict";s.r(t);var a=s(0),r=s.n(a),i=s(8),n=s.n(i),l=s(2),o=s.n(l),c=s(1);function h(e){const{chartTitle:t,chartSubTitle:s,yAxisTitle:r,xAxisCategories:i,series:n}=e,l=Object(a.useMemo)((()=>({chart:{type:"column"},title:{text:t},subtitle:{text:s},xAxis:{categories:i,crosshair:!0},yAxis:{min:0,title:{text:r}},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f} mm</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:n})),[t,s,r,i,n]);return Object(c.jsx)(o.a,{config:l})}h.defaultProps={chartTitle:"",chartSubTitle:"",yAxisTitle:"",xAxisCategories:[],series:[]};var d=h,p=s(9),b=s(10);var u,x=function(e){const{seriesId:t,id:s,value:r,onChange:i}=e.value||{},[n,l]=Object(a.useState)(r);return Object(c.jsx)("input",{type:"text",value:n,onChange:function(e){const{value:a}=e.target||{};l(a),i(t,s,parseFloat(a,10))},placeholder:"Input..."})};const m=s(11).a.div(u||(u=Object(p.a)(['\n  /* This is required to make the table full-width */\n  display: block;\n  max-width: 100%;\n\n  /* This will make the table scrollable when it gets too small */\n  .tableWrap {\n    display: block;\n    max-width: 100%;\n    overflow-x: scroll;\n    overflow-y: hidden;\n    border: 1px solid black;\n  }\n\n  table {\n    /* Make sure the inner table is always as wide as needed */\n    width: 100%;\n    border-spacing: 0;\n\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      /* The secret sauce */\n      /* Each cell should grow equally */\n      width: 1%;\n      /* But "collapsed" cells should be as small as possible */\n      &.collapse {\n        width: 0.0000000001%;\n      }\n\n      :last-child {\n        border-right: 0;\n      }\n    }\n  }\n\n  .pagination {\n    padding: 0.5rem;\n  }\n'])));function j(e){const{columns:t,data:s,className:a}=e,{getTableProps:r,getTableBodyProps:i,headerGroups:n,rows:l,prepareRow:o}=Object(b.useTable)({columns:t,data:s});return Object(c.jsx)(m,{className:a,children:Object(c.jsx)("div",{className:"tableWrap",children:Object(c.jsxs)("table",{...r(),children:[Object(c.jsx)("thead",{children:n.map((e=>Object(c.jsx)("tr",{...e.getHeaderGroupProps(),children:e.headers.map((e=>Object(c.jsx)("th",{...e.getHeaderProps(),style:{background:"aliceblue",color:"black",fontWeight:"bold"},children:e.render("Header")})))})))}),Object(c.jsx)("tbody",{...i(),children:l.map((e=>(o(e),Object(c.jsx)("tr",{...e.getRowProps(),children:e.cells.map((e=>Object(c.jsx)("td",{...e.getCellProps(),style:{padding:"10px"},children:e.render("Cell")})))}))))})]})})})}j.defaultProps={columns:[],data:[]},j.ValueInputRenderer=x;var T=j;const g=[{Header:"Label",accessor:"label"},{Header:"Value",accessor:"value",Cell:T.ValueInputRenderer}];var y=function(e){return Object(c.jsx)(T,{data:e.data,columns:g})},f=s(4),C=s.n(f);class O extends r.a.Component{constructor(e){super(e),this.handleChange=(e,t,s)=>{const a=[...this.state.series];a[t]=s||0,this.setState({series:a})},this.transformDataForTable=()=>{const{series:e,xAxisCategories:t}=this.state;return Array.isArray(e)&&e.length?t.map(((t,s)=>({label:t,value:{seriesId:0,id:s,label:t,value:e[s],onChange:this.handleChange}}))):[]},this.transformSeriesForChart=()=>{const{series:e,seriesTitle:t}=this.state;return[{name:t,data:e}]},this.state={chartTitle:"Chart Title",chartSubTitle:"Chart Sub Title",yAxisTitle:"Y Axis Title",xAxisCategories:[],series:[]}}componentDidMount(){const{chartTitle:e,chartSubTitle:t,yAxisTitle:s,series:a,seriesTitle:r}=this.props;this.setState({chartTitle:e,chartSubTitle:t,yAxisTitle:s,xAxisCategories:a.map(((e,t)=>"Value ".concat(t+1))),seriesTitle:r,series:a})}render(){const{chartTitle:e,chartSubTitle:t,yAxisTitle:s,xAxisCategories:a}=this.state;return Object(c.jsxs)("div",{className:C.a["section-container"],children:[Object(c.jsx)("div",{children:Object(c.jsx)(y,{data:this.transformDataForTable()})}),Object(c.jsx)("div",{children:Object(c.jsx)(d,{series:this.transformSeriesForChart(),chartTitle:e,chartSubTitle:t,yAxisTitle:s,xAxisCategories:a})})]})}}var v=O;function A(e){const{chartTitle:t,series:s}=e,r=Object(a.useMemo)((()=>({chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:t},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}},series:s})),[t,s]);return Object(c.jsx)(o.a,{config:r})}A.defaultProps={chartTitle:"",series:[]};var S=A;class w extends r.a.Component{constructor(e){super(e),this.handleChange=(e,t,s)=>{const a=[...this.state.series];a[t].y=s||0,this.setState({series:a})},this.transformDataForTable=()=>{const{series:e}=this.state;return Array.isArray(e)&&e.length?e.map(((e,t)=>({label:e.name,value:{seriesId:0,id:t,label:e,value:e.y,onChange:this.handleChange}}))):[]},this.transformSeriesForChart=()=>{const{series:e,seriesTitle:t}=this.state;return[{name:t,data:e}]},this.state={chartTitle:"Chart Title",chartSubTitle:"Chart Sub Title",yAxisTitle:"Y Axis Title",xAxisCategories:[],series:[]}}componentDidMount(){const{chartTitle:e,series:t,seriesTitle:s}=this.props;this.setState({chartTitle:e,seriesTitle:s,series:t.map(((e,t)=>({name:"Value ".concat(t+1),y:e})))})}render(){const{chartTitle:e}=this.state;return Object(c.jsxs)("div",{className:C.a["section-container"],children:[Object(c.jsx)("div",{children:Object(c.jsx)(y,{data:this.transformDataForTable()})}),Object(c.jsx)("div",{children:Object(c.jsx)(S,{series:this.transformSeriesForChart(),chartTitle:e})})]})}}var k=w;class F extends r.a.Component{render(){const{chartType:e}=this.props;switch(e){case"Bar":return Object(c.jsx)(v,{...this.props});case"Pie":return Object(c.jsx)(k,{...this.props});default:return"Invalid chart type"}}}var P=F;s(26);class D extends r.a.Component{constructor(e){super(e),this.fetchChartDetails=()=>fetch("https://s3-ap-southeast-1.amazonaws.com/he-public-data/chart2986176.json").then((e=>e.json())).then((e=>e.map(((e,t)=>({id:t,chartType:e.type,series:e.elements,chartTitle:"Chart ".concat(t+1)}))))).catch((e=>[])),this.state={chartConfigs:[],initialised:!1}}componentDidMount(){this.fetchChartDetails().then((e=>{this.setState({chartConfigs:e,initialised:!0})}))}render(){const{chartConfigs:e,initialised:t}=this.state;return t?Object(c.jsx)("div",{className:"App",children:e.map((e=>Object(c.jsx)(P,{chartType:e.chartType,series:e.series,seriesTitle:e.seriesTitle,chartTitle:e.chartTitle},e.id)))}):"loading"}}var I=D;const M=document.getElementById("root");n.a.render(Object(c.jsx)(a.StrictMode,{children:Object(c.jsx)(I,{})}),M)},4:function(e,t,s){e.exports={"section-container":"styles_section-container__ok-xB"}}},[[27,1,2]]]);
//# sourceMappingURL=main.1828e0c6.chunk.js.map